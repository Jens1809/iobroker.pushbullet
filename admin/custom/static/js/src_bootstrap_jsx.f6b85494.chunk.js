"use strict";(self.webpackChunkiobroker_admin_component_pushbullet=self.webpackChunkiobroker_admin_component_pushbullet||[]).push([["src_bootstrap_jsx"],{91403:function(u,g,l){l.r(g);var E=l(4819),t=l.n(E),C=l(24470),i=l(25309),m=l(93109),N=l(33919),T=l(97230),O=l(33924),c=l(55289),x=l(40666),P=l(15854),n=l.n(P),S=l(58503),o=l(94427),I=l(59665),p=l(75606);const j=a=>({table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},selected:{backgroundColor:a.palette.mode==="dark"?"#006e23":"#1ed25d"}});class h extends p.ConfigGeneric{constructor(e){super(e),this.state={devices:[]}}componentDidMount(){super.componentDidMount(),this.props.data.apikey&&this.readData()}readData(){fetch("https://api.pushbullet.com/v2/devices",{headers:{Authorization:`Bearer ${this.props.data.apikey}`}}).then(e=>e.json()).then(e=>{e.error?window.alert(`Cannot read devices: ${e.error.message}`):this.setState({devices:e.devices||[]})}).catch(e=>window.alert(`Cannot read devices: ${e}`))}renderItem(){return t().createElement("div",{style:{width:"100%"}},t().createElement("h4",null,p.I18n.t("custom_pushbullet_title")),t().createElement(o.Button,{variant:"contained",disabled:!this.props.data.apikey,onClick:()=>this.readData()},p.I18n.t("custom_pushbullet_read_devices")),t().createElement(o.TableContainer,{component:o.Paper,style:{width:"100%"}},t().createElement(o.Table,{style:{width:"100%"},size:"small"},t().createElement(o.TableHead,null,t().createElement(o.TableRow,null,t().createElement(o.TableCell,null),t().createElement(o.TableCell,null,p.I18n.t("custom_pushbullet_name")),t().createElement(o.TableCell,null,p.I18n.t("custom_pushbullet_type")),t().createElement(o.TableCell,null,p.I18n.t("custom_pushbullet_id")))),t().createElement(o.TableBody,null,this.state.devices.map(e=>t().createElement(o.TableRow,{key:e.iden,sx:{"&:last-child td, &:last-child th":{border:0}},className:this.props.data.receivermail===e.iden?this.props.classes.selected:null},t().createElement(o.TableCell,null,this.props.data.receivermail!==e.iden&&e.nickname!=="ioBroker"?t().createElement(o.IconButton,{onClick:()=>{const s=JSON.parse(JSON.stringify(this.props.data));s.receivermail=e.iden,this.props.onChange(s,e.iden)}},t().createElement(I.Check,null)):null),t().createElement(o.TableCell,{component:"th",scope:"row"},e.type),t().createElement(o.TableCell,null,e.nickname),t().createElement(o.TableCell,null,e.iden)))))))}}h.propTypes={socket:n().object.isRequired,themeType:n().string,themeName:n().string,style:n().object,className:n().string,data:n().object.isRequired,attr:n().string,schema:n().object,onError:n().func,onChange:n().func};var D=(0,S.withStyles)(j)(h),J=Object.defineProperty,d=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,b=(a,e,s)=>e in a?J(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,L=(a,e)=>{for(var s in e||(e={}))z.call(e,s)&&b(a,s,e[s]);if(d)for(var s of d(e))A.call(e,s)&&b(a,s,e[s]);return a};const Z=a=>({app:{backgroundColor:a.palette.background.default,color:a.palette.text.primary,height:"100%"},item:{padding:50,width:400}});class B extends O.Z{constructor(e){const s=L({},e);super(e,s),this.state={data:{myCustomAttribute:"red"},theme:this.createTheme()};const r={en:l(86443),de:l(19837),ru:l(50482),pt:l(65909),nl:l(43573),fr:l(86115),it:l(79399),es:l(55117),pl:l(28130),uk:l(17138),"zh-cn":l(58246)};c.default.setTranslations(r),c.default.setLanguage((navigator.language||navigator.userLanguage||"en").substring(0,2).toLowerCase())}render(){return this.state.loaded?t().createElement(i.Z,{injectFirst:!0},t().createElement(m.Z,{theme:this.state.theme},t().createElement("div",{className:this.props.classes.app},t().createElement("div",{className:this.props.classes.item},t().createElement(D,{socket:this.socket,themeType:this.state.themeType,themeName:this.state.themeName,attr:"myCustomAttribute",data:this.state.data,onError:()=>{},instance:0,schema:{name:"ConfigCustomPushbulletSet/Components/PushbulletComponent",type:"custom"},onChange:e=>{this.setState({data:e})}}))))):t().createElement(i.Z,{injectFirst:!0},t().createElement(m.Z,{theme:this.state.theme},t().createElement(x.default,{theme:this.state.themeType})))}}var R=(0,T.Z)(Z)(B),G=l(82890),F=Object.defineProperty,v=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,y=(a,e,s)=>e in a?F(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,w=(a,e)=>{for(var s in e||(e={}))M.call(e,s)&&y(a,s,e[s]);if(v)for(var s of v(e))$.call(e,s)&&y(a,s,e[s]);return a},U=a=>{const e="#dd5325",s="#73b6a8",r=w({},(0,G.default)(a));return r&&(r.palette.text.danger={color:e},r.palette.text.success={color:s},r)};window.adapterName="adapter-component-template";let f=N.default.getThemeName();function _(){const a=document.getElementById("root");return(0,C.s)(a).render(t().createElement(t().StrictMode,null,t().createElement(i.Z,{injectFirst:!0},t().createElement(m.Z,{theme:U(f)},t().createElement(R,{socket:{port:8081},onThemeChange:s=>{f=s,_()}})))))}_()},19837:function(u){u.exports=JSON.parse('{"custom_pushbullet_id":"ID","custom_pushbullet_name":"Name","custom_pushbullet_title":"Pushbullet-Ger\xE4te","custom_pushbullet_read_devices":"Ger\xE4te abrufen","custom_pushbullet_type":"Typ"}')},86443:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Pushbullet devices","custom_pushbullet_read_devices":"Read devices","custom_pushbullet_type":"Type","custom_pushbullet_id":"ID","custom_pushbullet_name":"Name"}')},55117:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Dispositivos de bala","custom_pushbullet_read_devices":"Leer dispositivos","custom_pushbullet_type":"Tipo","custom_pushbullet_id":"ID","custom_pushbullet_name":"Nombre"}')},86115:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Appareils Pushbullet","custom_pushbullet_read_devices":"Lire les appareils","custom_pushbullet_type":"Taper","custom_pushbullet_id":"ID","custom_pushbullet_name":"Nom"}')},79399:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Dispositivi a spinta","custom_pushbullet_read_devices":"Leggi i dispositivi","custom_pushbullet_type":"Tipo","custom_pushbullet_id":"ID","custom_pushbullet_name":"Nome"}')},43573:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Pushbullet-apparaten","custom_pushbullet_read_devices":"Apparaten lezen","custom_pushbullet_type":"Type","custom_pushbullet_id":"ID","custom_pushbullet_name":"Naam"}')},28130:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Urz\u0105dzenia typu pushbullet","custom_pushbullet_read_devices":"Czytaj urz\u0105dzenia","custom_pushbullet_type":"Typ","custom_pushbullet_id":"ID","custom_pushbullet_name":"Nazwa"}')},65909:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"Dispositivos pushbullet","custom_pushbullet_read_devices":"Ler dispositivos","custom_pushbullet_type":"Tipo","custom_pushbullet_id":"ID","custom_pushbullet_name":"Nome"}')},50482:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"\u041F\u0443\u0448\u043F\u0443\u043B\u044C\u043D\u044B\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430","custom_pushbullet_read_devices":"\u0427\u0442\u0435\u043D\u0438\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432","custom_pushbullet_type":"\u0422\u0438\u043F","custom_pushbullet_id":"ID","custom_pushbullet_name":"\u0418\u043C\u044F"}')},17138:function(u){u.exports=JSON.parse(`{"custom_pushbullet_title":"\u041F\u0440\u0438\u0441\u0442\u0440\u043E\u0457 Pushbullet","custom_pushbullet_read_devices":"\u0427\u0438\u0442\u0430\u043D\u043D\u044F \u043F\u0440\u0438\u0441\u0442\u0440\u043E\u0457\u0432","custom_pushbullet_type":"\u0422\u0438\u043F","custom_pushbullet_id":"ID","custom_pushbullet_name":"\u0406\u043C'\u044F"}`)},58246:function(u){u.exports=JSON.parse('{"custom_pushbullet_title":"\u63A8\u5F39\u88C5\u7F6E","custom_pushbullet_read_devices":"\u8BFB\u53D6\u8BBE\u5907","custom_pushbullet_type":"\u7C7B\u578B","custom_pushbullet_id":"ID","custom_pushbullet_name":"\u59D3\u540D"}')}}]);

//# sourceMappingURL=src_bootstrap_jsx.f6b85494.chunk.js.map