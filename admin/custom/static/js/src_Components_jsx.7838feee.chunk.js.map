{"version":3,"file":"static/js/src_Components_jsx.7838feee.chunk.js","mappings":"qTAuBA,MAAMA,EAASC,IAAU,CACrB,MAAO,CACH,SAAU,GACd,EACA,OAAQ,CACJ,SAAU,GACV,WAAY,MAChB,EACA,SAAU,CACN,gBAAiBA,EAAM,QAAQ,OAAS,OAAS,UAAY,SACjE,CACJ,GAEA,MAAMC,UAA4B,eAAc,CAC5C,YAAYC,EAAO,CACf,MAAMA,CAAK,EACX,KAAK,MAAQ,CACT,QAAS,CAAC,CACd,CACJ,CAEA,mBAAoB,CAChB,MAAM,kBAAkB,EACpB,KAAK,MAAM,KAAK,QAChB,KAAK,SAAS,CAEtB,CAEA,UAAW,CACP,MAAM,wCAAyC,CAC3C,QAAS,CACL,cAAe,UAAU,KAAK,MAAM,KAAK,QAC7C,CACJ,CAAC,EACI,KAAKC,GAAOA,EAAI,KAAK,CAAC,EACtB,KAAKC,GAAQ,CACNA,EAAK,MACL,OAAO,MAAM,wBAAwBA,EAAK,MAAM,SAAS,EAEzD,KAAK,SAAS,CAAE,QAASA,EAAK,SAAW,CAAC,CAAE,CAAC,CAErD,CAAC,EACA,MAAMC,GAAK,OAAO,MAAM,wBAAwBA,GAAG,CAAC,CAC7D,CAEA,YAAa,CACT,OAAO,kBAAC,OAAI,MAAO,CAAE,MAAO,MAAM,GAC9B,kBAAC,UAAI,OAAK,EAAE,yBAAyB,CAAE,EACvC,kBAAC,UACG,QAAQ,YACR,SAAU,CAAC,KAAK,MAAM,KAAK,OAC3B,QAAS,IAAM,KAAK,SAAS,GAE5B,OAAK,EAAE,gCAAgC,CAC5C,EACA,kBAAC,iBAAc,CAAC,UAAW,QAAO,MAAO,CAAE,MAAO,MAAO,GACrD,kBAAC,QAAK,CAAC,MAAO,CAAE,MAAO,MAAO,EAAG,KAAK,SAClC,kBAAC,YAAS,KACN,kBAAC,WAAQ,KACL,kBAAC,YAAS,IAAC,EACX,kBAAC,YAAS,KAAE,OAAK,EAAE,wBAAwB,CAAE,EAC7C,kBAAC,YAAS,KAAE,OAAK,EAAE,wBAAwB,CAAE,EAC7C,kBAAC,YAAS,KAAE,OAAK,EAAE,sBAAsB,CAAE,CAC/C,CACJ,EACA,kBAAC,YAAS,KACL,KAAK,MAAM,QAAQ,IAAIC,GAAU,kBAAC,YAC/B,IAAKA,EAAO,KACZ,GAAI,CAAE,mCAAoC,CAAE,OAAQ,CAAE,CAAE,EACxD,UAAW,KAAK,MAAM,KAAK,eAAiBA,EAAO,KAAO,KAAK,MAAM,QAAQ,SAAW,MAExF,kBAAC,YAAS,KACL,KAAK,MAAM,KAAK,eAAiBA,EAAO,MAAQA,EAAO,WAAa,WACjE,kBAAC,cACG,QAAS,IAAM,CACX,MAAMC,EAAO,KAAK,MAAM,KAAK,UAAU,KAAK,MAAM,IAAI,CAAC,EACvDA,EAAK,aAAeD,EAAO,KAC3B,KAAK,MAAM,SAASC,EAAMD,EAAO,IAAI,CACzC,GAEA,kBAAC,QAAK,IAAC,CACX,EAAgB,IACxB,EACA,kBAAC,YAAS,CAAC,UAAU,KAAK,MAAM,OAAOA,EAAO,IAAK,EACnD,kBAAC,YAAS,KAAEA,EAAO,QAAS,EAC5B,kBAAC,YAAS,KAAEA,EAAO,IAAK,CAC5B,CAAW,CACf,CACJ,CACJ,CACJ,CACJ,CACJ,CAEAL,EAAoB,UAAY,CAC5B,OAAQ,WAAiB,WACzB,UAAW,WACX,UAAW,WACX,MAAO,WACP,UAAW,WACX,KAAM,WAAiB,WACvB,KAAM,WACN,OAAQ,WACR,QAAS,SACT,SAAU,QACd,EAEA,SAAe,cAAWF,CAAM,EAAEE,CAAmB,EChIrD,EAAe,CAAE,oBAAmB,CAAC,C","sources":["PushbulletComponent.jsx","Components.jsx"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@mui/styles';\r\n\r\nimport {\r\n    LinearProgress,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Paper,\r\n    Button,\r\n    IconButton,\r\n} from '@mui/material';\r\nimport { Check } from '@mui/icons-material';\r\n// important to make from package and not from some children.\r\n// invalid\r\n// import ConfigGeneric from '@iobroker/adapter-react-v5/ConfigGeneric';\r\n// valid\r\nimport { ConfigGeneric, I18n } from '@iobroker/adapter-react-v5';\r\n\r\nconst styles = theme => ({\r\n    table: {\r\n        minWidth: 400\r\n    },\r\n    header: {\r\n        fontSize: 16,\r\n        fontWeight: 'bold',\r\n    },\r\n    selected: {\r\n        backgroundColor: theme.palette.mode === 'dark' ? '#006e23' : '#1ed25d',\r\n    },\r\n});\r\n\r\nclass PushbulletComponent extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            devices: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount();\r\n        if (this.props.data.apikey) {\r\n            this.readData();\r\n        }\r\n    }\r\n\r\n    readData() {\r\n        fetch(`https://api.pushbullet.com/v2/devices`, {\r\n            headers: {\r\n                Authorization: `Bearer ${this.props.data.apikey}`,\r\n            },\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                if (json.error) {\r\n                    window.alert(`Cannot read devices: ${json.error.message}`);\r\n                } else {\r\n                    this.setState({ devices: json.devices || [] });\r\n                }\r\n            })\r\n            .catch(e => window.alert(`Cannot read devices: ${e}`));\r\n    }\r\n\r\n    renderItem() {\r\n        return <div style={{ width: '100%'}}>\r\n            <h4>{I18n.t('custom_pushbullet_title')}</h4>\r\n            <Button\r\n                variant=\"contained\"\r\n                disabled={!this.props.data.apikey}\r\n                onClick={() => this.readData()}\r\n            >\r\n                {I18n.t('custom_pushbullet_read_devices')}\r\n            </Button>\r\n            <TableContainer component={Paper} style={{ width: '100%' }}>\r\n                <Table style={{ width: '100%' }} size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell></TableCell>\r\n                            <TableCell>{I18n.t('custom_pushbullet_name')}</TableCell>\r\n                            <TableCell>{I18n.t('custom_pushbullet_type')}</TableCell>\r\n                            <TableCell>{I18n.t('custom_pushbullet_id')}</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {this.state.devices.map(device => <TableRow\r\n                            key={device.iden}\r\n                            sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                            className={this.props.data.receivermail === device.iden ? this.props.classes.selected : null}\r\n                        >\r\n                            <TableCell>\r\n                                {this.props.data.receivermail !== device.iden && device.nickname !== 'ioBroker' ?\r\n                                    <IconButton\r\n                                        onClick={() => {\r\n                                            const data = JSON.parse(JSON.stringify(this.props.data));\r\n                                            data.receivermail = device.iden;\r\n                                            this.props.onChange(data, device.iden)\r\n                                        }}\r\n                                    >\r\n                                        <Check />\r\n                                    </IconButton> : null}\r\n                            </TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\">{device.type}</TableCell>\r\n                            <TableCell>{device.nickname}</TableCell>\r\n                            <TableCell>{device.iden}</TableCell>\r\n                        </TableRow>)}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>;\r\n    }\r\n}\r\n\r\nPushbulletComponent.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(PushbulletComponent);","import PushbulletComponent from './PushbulletComponent';\r\n\r\nexport default { PushbulletComponent };"],"names":["styles","theme","PushbulletComponent","props","res","json","e","device","data"],"sourceRoot":""}